# 考察 {#chap:discussion}

本章では、インタビュー調査によって得た意見をまとめ、
Babascriptプログラミング環境における諸問題や
新しい可能性について述べる。

\newpage


## ユーザインタビュー

システム改善のため、7名の被験者(男性7名, 平均23歳)に試用してもらった上でインタビューを行った。
全学生がコンピュータサイエンス系の研究室に所属している。

インタビューの内容は表\ref{table:interview}の通りである。

<!--
 Table: インタビュー内容 \label{table:interview}

            質問内容
---- ------------------------------------------------------------------------
問1   コンピュータと同じ、処理を実行する立場と言われた時、どう思いますか
問2   自分や他人の感性判断をプログラムに組み込むことについて、どう思いますか
問3   返り値のフォーマット指定は 必要でしたか？ <br>
      考えの幅が狭まるといったことはありますか？ <br>
      扱いづらいものはありましたか？
問4   好きなキャラや俳優などからの指示のように見えるインタフェースだった場合、<br>
      動きに変化があると思いますか？
問5   命令元の人によって、指示に従うかどうかは変わりますか？
 -->

### プログラムからの指示について

プログラムからの指示を受けるという、コンピュータと人間がまったく同じ立場になるということに関して、
拒否感を覚える人がいるのではないかという仮説を確認するために質問をした。

結果として、被験者全員が特に拒否感を覚えることはないと答えた。
被験者の中には具体的に、プログラムから指示を受けているという印象を受けなかったため、という意見を述べる者もいた。
プログラムからの指示であるという
インタフェースをより洗練させることで、プログラムから指示を受けているという印象を薄めていくことによって、
一般の人にも受け入れてもらえるようにすることは可能と考えられる。

### 自分や他人をプログラムに組み込むことについて {#sec:programming-you-and-i}

自分や他人をプログラムに組み込んでみたいと思うのかについて、調査した。
被験者は全員、普段からプログラムを書いている。
そこで、自分や他人を組み込んだプログラムについて、どのようなプログラムがありうるか、
どんなことがポイントになるかについて聞いた。

多くの被験者が、人間を含んだプログラミングは計算機のみを対象としたプログラミングよりも難しくなるのではないかと答えた。
実行する人間によって返ってくる値が異なることが考えられ、想定する値が得られなかった場合の
処理をどうするかについて考える必要がある。

また、被験者の多くは、人間をプログラムに組み込むことには特に抵抗はないと答えた。
様々な処理が楽になる可能性があり、使用を検討するという意見を述べる被験者もいた。
センサーだけでは得られないデータや、感性による判断を用いたプログラムは有用となる可能性が高いと
答えた被験者も複数存在する。

<!--
- 想像つかない、ヒューリスティックな判断を学習に使ったりするのはうまくいかないと思う。
- センサーが取れないデータみたいなのを人間にやらせるのは良いと思う。

- 人によって帰り値が相当変わりそうで、プログラミングが難しそう。

- 楽になるなら良い。
  - 自分で自分用には使えそう

- 自分で自分には送りたくない。
  - 他人を動かすならよい

- 主観的な判断が必要な処理には使えそう
  - 気分が良いとか悪いとか
- そこまで抵抗はない。

- プログラムを書くのが大変そう
  - 返される値にばらつきが生まれそう
  - 全部booleanとかならいいかも。
  - でも、Stringはきついけど、Stringをうまく扱えるような枠組みであるべき

- 映画とかを見た時の、面白いとかそういう判断
 -->

### 返り値の型について

設計段階において、返り値の型を指定してユーザに提示することで、ユーザは入力しやすくなるのではないかと仮説を立てた。
この仮説について、インタビュー調査において、その検証を行った。
多くの被験者から、型指定によって入力しやすくなったと感じるという意見を得ることができた。
不必要との意見はなく、ユーザの入力の補助になっていると考えられる。

Boolean型とList型は入力がしやすいという意見を多くの被験者から得ることができた。
一方、StringやInt型は、前述の2つの型に比べて入力のコストが高い。
Boolean型やList型に比べて、扱いにくいとの意見を得た。
特に、String型は入力内容の自由度が高いため、入力する値に迷いが生じることが多発しそう、との意見を得た。

<!--
- 全部list or その他 でも良いと思ったぐらい。
- 必要
- 不便とは思わない
- 必要

型指定は思考を狭めた？

- 選択肢があるようなやつは、おかげでどんな返しをすればよいのかがわかった。
  - listから選ぶのは楽。

- あるなら欲しい
  Stringは、抽象的な指示が来た時に非常にやりにくい

- StringとIntの型の違いがわからない。
  - placeholderとかで例示すれば？
  - わかりやすい形で型の入力が示されれば良い。
- リストの中から選ぶとかBooleanは返しやすい
- 命令の意図がわかりにくい時、命令を聞き返すような仕組みが欲しい
  - エラー？

- 特に使いづらい型があったわけではない

- 型指定があったほうが迷いにくい
  - リストとかは良い
  - Stringのような自由入力よりは良い。
  - 考えは狭まったけど、ユーザとしては非常に楽
  - やっぱり、Stringは自由故に難しい。 -->


### Babascript Agent について

#### キャラクター性の付与

Babascript Agent の現在のインタフェースはただ指示を表示し、処理結果を入力させる機能に絞られている。
Babascript Agent に何かしらのキャラクター性をもたせた時、ユーザの挙動がどう変わるかについて、
今後の実装指針とするために調査した。

特に、好きなキャラクターや俳優など、自分が好意を抱くような対象のキャラクターを持ったインタフェースが提示された場合、
ユーザの意思はどう変わるのかについて質問した。
半数程度のユーザから、挙動は変化し、比較的指示を聞くようになると思うとの意見を得た。
しかし、この変化を良くないバイアスと評価する人物も存在し、単純に良い結果だけを生み出すとは言いにくいと考えられる。

別の意見として、むしろ人間とのコミュニケーションのような形で指示が提示されると良いという意見を得た。
つまり、Siri\footnote{https://www.apple.com/jp/ios/siri/}のような対人型の質問応答システムのような
インタフェースや、チャットのようなインタフェースであれば、プログラムからの指示といった印象が薄れやすいと思われる。
具体的なキャラクターではなく、「人間っぽさ」を示すことが改善に繋がると思われる。
今後、実装したSlackインタフェースで実験する。

<!--
キャラクター性を持ったときにどう変わるか？

- 良くないバイアスがかかりそう。
- 好きな人なら聞く。嫌いな人なら突っぱねる。ノイズが大きくなりそう
- もっと薄いインタフェースでやってほしい。既にインタラクション感が強い。通知とかのレベルで良い。

- 人間とコミュニケーションしてるかのような感じで提示されると気持ち良い

- 大事なのは命令内容で、インタフェースのキャラクターに左右されることはないと思う

- 遊びみたいなときに、キャラクター性を持ったやつがきてほしい。
- 逆に、真面目なときはキャラクター性を持ってほしくない。

- そういうインタフェースが目の前にないとわからない。 -->


#### 命令元の提示

Babascript Agent の現在のインタフェースでは、誰が指示を送っているのかというのがわからない。
命令実行元がどのような立場の人間ならば、ワーカーとして指示に従うか、ということを聞いた。

まず、多くの被験者が身近な人間ならば指示に従うと答えた。
身近な人とは、ここでは家族や自分自身などを示す。
また、上司などの仕事の関係上、上位の立場の人間からの指示であれば、従うと答えた。
これは、第\ref{chap:application}章で述べた「仕事のプログラム化」のような事例において
良い結果に繋がることが示唆される。
知らない人からの指示に対しては、多くの被験者が従わないと答えた。

指示内容や状況によるという意見もあった。
ある被験者は、暇なときであれば、指示に応じて行動してしまうかもしれないと述べている。
しかし、この場合、自分にかかる負担に応じて指示に従うかどうかが変わる可能性が高いとも述べている。
別の被験者は、自分に負担がほぼかからないような指示であれば、従うことが多いと思うが、
何か大きく行動しなくてはならないという場合や、入力コストが大きすぎる場合は指示を無視する可能性が高いと答えている。


<!--
- 親近感を持つ人なら、従う。
  - 完全にunknownな人なら従わない。
  - 上司みたいな人なら従う。

- 従うと思う
  - unkndownには従いたくない
  - 上司みたいな人なら従う。

- 命令の粒度による
  - 大きすぎる命令は断る。
  - 上司などなら多分聞く
  - unknnownでも、ワンアクションで終わるならやる

- 誰からの命令なのかを示して欲しい
  - 知人のほうが、まだ従いやすい
  - 上司などでも、あまり良い印象をいただかない
  - unknownなら絶対従わない

- 状況による
  - 暇な時なら言われるがままに行動しそう。
  - 作業中断したり、自分にコストがかかる場合は、知人以外なら無視する可能性が高い
  - 知人なら多少コストがかかっても、指示を受ける可能性が高いと思う。ツイッターのリプライと同じ。
  - 匿名なのか、完全他者なのかで違う。
    - 完全に他者ならやらない可能性が高い
    - 匿名なら、知り合いかもしれないからやるかも。
  - 上司からだったりすると、やる

- 指示による
  - 上司なら従うと思う
  - 友達なら面倒くさいから嫌だ、で終わるかもしれない
  - 知らない人なら指示による
  - 変な情報が入ってないほうが良い

- 友達とか、身近な人でも、人による
- 内容にもよる
  - コストがかからないような、パパっと終わるようなもの
  - 簡単なやつ。
    - 後は、入力のコストは可能な限り低く無くてはならない
  - 上司だったら？
    - 仕事だったらする。
  - 知らない人だったら、やらない。
  - 誰から来るのかが隠蔽されていた場合
    - やらない
    - 答えたくなるような内容だったら答えるかも
 -->

### その他

規定の質問以外にも、インタビューの中で意見を得ることができた。
以下に列挙する。

- ただ指示を提示するだけではなく、全体の流れやコンテキストを知りたい
- 指示の中でも強調すべきポイントを示したい
- 位置情報、音声、写真などを値として返せたら面白い
- 比較表現は人によって異なる可能性が高い
- 具体的に絞れない指示は理解しづらい

<!--
- 指示でも強調すべきポイントを示せるようにすべき
- 比較表現のある指示はわからない
- 何を目標とした処理なのかを示さないとわからない

- 位置情報、音声、写真などを返り値として返せたら面白そう。

- Stringの時に配列で処理結果を渡したいと思った
- Stringの時が一番悩む

- 抽象的な指示だと、わからないことが多そう。
  - 具体的に絞れない表現をされると、きつい。
- チャットっぽい。
  - 質問がきて値を返すのと、チャットでの質問とかと同じだと思う。
  - Babascriptにおけるやりとりって、結構日常的なのでは？
    - コンピュータからきても人から指示がきても、大きな差を感じない

- 道案内とかを、こういうインタフェースでやってほしい。
  - 逐次的に指示していく。

- 全体の流れを示して欲しい
  - あと何ステップで終わるのか、とか。
  - コンテキストを知りたい。

- プロセッシングとセンシングをわけて考えはしなかった -->

## 処理実行単位としての人

本研究において、人間は処理すべきことを指示され実行する存在であり、
コンピュータやセンサー、アクチュエータと同じ処理単位としてみなされる。
ユーザインタビューからコンピュータサイエンスに関する研究を行っている大学生及び大学院生に関しては、
特に抵抗がないということがわかったが、コンピュータサイエンスの知見の少ない一般の人にとっては、
コンピュータと同じ存在ということに心理的な拒否感を覚えるといったことが考えられる。

処理を指示され実行する立場に徹するということは、指示されたことのみに集中していれば良いということであり、
非常に楽なことでもある。
また、コンピュータに出来ることはコンピュータにやらせ、人間は人間が得意なことや人間にしか出来ないようなことを実行する
ことになるため、ワーカーにとっては作業量が減るなどのメリットも存在する。
指示される立場でいるということは、作業を楽にするための一つのアイデアであるとも言える。

また、指示に積極的に従うことによって、今までは実現出来なかった処理が実現したり、全体的な処理の正確性が向上するとすれば
それはワーカー側にとってもメリットであると言える。

## プログラム化のメリット

Babascriptプログラミング環境によって処理をプログラム化した際に得られるメリットについて考察する。

まず、プログラムとして記述しておくことによって、コンピュータと一緒に処理を実行していくことができる。
例えば、普通の計算は明らかにコンピュータのほうが得意だ。
人間のインプット等を元にしてコンピュータに計算させれば、高速かつ正確な結果を得られ、人間も計算しなくて良い。
記憶しておくことも、コンピュータのほうが得意だ。
仕事や実世界の状態をコンピュータで管理することによって、時間が経ったりしても正確に情報を引き出すことが出来る。
一方で、あいまいな出来事の処理や感性的な判断を求められる場面、実世界を対象とした処理などは
人間のほうが得意な場面が多い。
人間と計算機やセンサ・アクチュエータを処理に応じて使い分けることによって、より効率的であったり、正確な処理が実現する。

プログラムとして記述することで、様々な情報を取得が容易になる。
XXXという処理にかかった時間は、少し前のプログラムの場合は1分であったが、改善することで30秒にすることができた、
というようなことは、解析プログラムを導入することですぐにわかるだろう。
AさんとBさんが同じ処理を実行した場合の実行時間の差などもデータとして取得することが容易となる。
改善の結果が悪ければすぐに元のプログラムに戻す、といったことも、バージョン管理が一般的に行なわれている
プログラムだからこそ、実行しやすい。

また、複数の人間をオーケストレーションし、効率的に動かすといったことも可能になる。
マニュアルなどでは、基本的に一人の人間を対象としている。
しかし、プログラムで記述し、各自に指示を送るようにすれば、複数の人間の指揮も容易であると考えられる。

## 型指定

Babascriptプログラミング環境においては、人間への指示に返り値の型を指定することができる。
型はBoolean、String、Number、Listの4種類が存在し、ユーザにはその型に合ったインタフェースが提示される。

型ごとに入力コストが異なるため、指示の実行終了までの時間が変化すると考えられる。
例えば、String型を指定した場合、文字を入力しなくてはならない。
入力する文字を考える時間や文字入力のスピード、文字入力システムの性能等にも左右される。
一方、Boolean型を指定した場合、2択から選んで決定するだけである。
String型とBoolean型の2つを比較すると、入力コストに差が存在する。
他の2つの型においても同様のことが言える。

型を指定されることによって、ユーザ側も入力すべき値がはっきりとし、迷うことがなかったという意見があった。
一方で、String型の場合、指示内容にもよるが入力の自由度が高くなりがちという問題がある。
String型においては、どんな値を入力すれば良いか迷ったり、わからなかったという意見もあった。
これは、どんな値を入力すべきかという例示をすることによって、ある程度解決可能な問題だと考えられる。

## 処理の実行遅延と実行保証

Babascriptを用いて人に指示を送っても、指示を受け取った人がその場ですぐに処理を実行するとは限らず、
遅延して実行される可能性がある。
指示を受け取るデバイスを見ていないという場合や、指示を受け取っても状況的にすぐに実行できないという場合があると
考えられ、その場合はすぐに指示に対して実行結果を返すことが出来ない。
Babascriptでは、こういった状況に対応するため、非同期実行を前提とした設計にしている。
そのため、人間による処理の実行中はコンピュータ側に他の処理を実行させておくといったことも可能だが、
人間による処理はほぼ確実に全体の処理を遅延させると考えられる。

実行遅延については、処理の先送り機能を追加することで、ある程度解決できる。
先送りする宣言をBabascript Agent側で実行できるようになれば、
Babascript側でも先送り宣言に応じた処理を実行させることができる。

また、指示を無視するといったことが起きる可能性があり、実行を完全に保証することができない。
上司からの命令などのように、労働上のある程度の強制力がある場合や、
自分自身への指示、家族からの指示などの場合は、無視の可能性は低くなるが、
強制力がない場合は、指示を無視するといったことが起こりうる。
こういった状況においては、何かしらのインセンティブをワーカーに与えることによって実行保障性を確保することが
できると考えられる。

## エラーへの対応

Babascriptからの指示を受け取った時、その指示が想定している状況と、現実の状況が大きく乖離している可能性がある。
場所や時間に依存するような指示の場合等に発生することが予想される。<!-- ほんと？ -->
指示を受け取った時点や場所においては、指定された型では適切な値を返せないといったことが考えられる。
また、無理やり値を返そうとした結果、本来返されるべき値をは異なる値が処理結果として入力されてしまう可能性も存在する。

Babascript Agentには、実行出来なかった際などに利用するエラー入力用のインタフェースが存在する。
エラーが起きた際、この機能を適切に利用することでプログラム側に通知が可能だ。
現状の実装では、エラーの内容を文字列として入力するか、デフォルトで指定可能な3つの選択肢から選ぶしかない。
エラーの内容を文字列として表現することは難しく、実際に起きたこととは異なるエラーが報告されてしまう可能性もある。
また、ワーカーへの負担も大きくなる。

エラーでプログラムが終了した場合、途中から実行しなおすといったことが現状では出来ない。
実世界におけるタスクの多くは、途中で間違っても、その間違いがタスク継続が困難なものでない限り、途中からやり直すといったことが可能だ。
Babascriptで実現するプログラムにおいても、途中からやり直すという機構が求められる。
Turkit\cite{turkit}におけるcrash-and-rerun programmingの概念のように、途中経過を保存しておくことで、
プログラムの途中から実行し直すという仕組みが実現可能であると考える。
また、途中経過保存によって、どんなタスクがエラーを起こしやすいのかといったことも保存することができ、
ワークフロー改善にも役立つと考えられる。
改善のためにも、エラー対応については今後も検討を続ける。

## 割り込み処理
<!-- 考えなおしても良いかも -->
<!-- 割り込み処理自体は実装したから消す -->

コンピュータが多くの割り込み処理を行っているのと同じように、
様々な指示が送られる中で、人間に対しても指示を割り込みできるような仕組みが必要と考えられる。
現実においても、割り込み処理は多くなされている。
例えば、料理をしてる時に、鍋が吹きこぼれそうだったら他の処理を中断してでも鍋から吹きこぼれないような処理を行う。
人間の振る舞いや挙動をプログラムで利用する際には、割り込み処理が重要となってくると考えられる。
例えば、危険な要素があれば、割り込み処理によって早くその場から離脱するように指示するといったことができなくてはならない。

このような割り込み処理を、Babascriptでは、人間の指示構文実行時のオプション情報として
特別なフラグを立てることで実現させている。
人間への指示は、Node-Linda上にキュー形式で保存されているが、
この指示のキューを通常タスクと優先タスクで分けて保存している。
優先タスクキューに指示が入ってる場合は、こちらのキューから優先して指示を取得する。

割り込み処理に関しては、Babascript Agent 側の工夫が非常に重要になる。
実世界における割り込み処理の通知は非常にわかりやすい。
鍋が吹きこぼれそうなら、視覚的にわかりやすく通知が行なわれ、
機械がエラーで止まれば、エラー音による通知が行われる。
Babascript Agentにおいても、割り込み処理が来た際にはわかりやすく通知することが望ましい。
現状では、高度な工夫は実現できていない。
割り込み処理であるということを明示的にし、割り込んだ処理をすぐに行うように
誘導させられるようにインタフェースを再実装する必要がある。

## 命令の抽象度設計の必要性

Babascriptでは、人への指示構文の記述には制限がない。
そのため、命令の抽象度はプログラマの指示記述能力に依存する。
抽象度が高すぎる指示内容にしてしまうと、ワーカーにとって実行内容が理解しづらくなってしまう。
結果として、想定外の処理が実行されたり、意図しない処理結果を返される可能性が存在する。
人間は柔軟な解釈が可能なため、ある程度は補正可能だと考えられるが、補正が不可能なほど抽象的な
指示内容の場合、問題が発生する。

具体的過ぎる命令は、全体の処理内容にもよるが、プログラム自体が冗長となり得る。
プログラムとワーカーの間のやりとりが増え、通信や待機時間、入力時間などによって処理全体が遅延すると考えられる。
これはワーカーにとっても大きな負担となる。
指示ごとに異なると考えられるが、命令文は適切な抽象度に設計しなくてはならない。
<!-- % どんなタスクなら実行可能で、何が出来ないのか？ -->

## 異なる種類の指示の複数同時実行

複数のプログラムから一人の人間に複数の関係のない指示が同時に実行される可能性がある。
例えば、料理プログラムと掃除プログラムが同時に実行された場合、
鍋で何かを煮ている途中に、「洗剤を投入する」といった指示がなされるといったことが考えられる。

現実世界で同じようなことが起きても、人間は指示を分類し、脳内で別スレッドで動作させることで問題を回避する。
Babascript Agent Webアプリケーションプロトタイプ2では、指示を並列に表示させ、
人間側が自分で記憶を元に分類しておくことでこの問題を部分的に解決している。
しかし、類似した指示が来た場合、混同してしまう可能性がある。
どのプログラムからの指示なのかを分類し、提示するインタフェースを実装することで解決可能と考えられる。

## Babascript Agentへのキャラクター性の付与

Babascript Agentは、一種のソフトウェアエージェントである。
Babascript Agentを用いた、人とプログラムのコミュニケーションは
ヒューマンエージェントインタラクションであると言える。
ヒューマンエージェントインタラクションとは、 人間とソフトウェアエージェントやロボット間のインタラクション
設計に関する研究分野だ。
ヒューマンエージェントインタラクション研究の分野においては、ソフトウェアエージェントやロボットに対して
擬人化手法を適応させることによって、エージェントをより人間らしく見せたり、コミュニケーションを取りやすく
するといった研究がなされている。

擬人化エージェントがもたらす効果については、村上らによる研究\cite{murakami}では、
エージェントに人間関係を適応させた実験を行っている。
この実験では、研究室の教官と学生の関係を利用し、教授の顔を模したキャラクターと関係のないキャラクター、両者からの
依頼に対して学生の行動が変化するかどうかを観察した。
実験の結果、教官キャラクターのほうがより依頼を受理されやすいという結果がわかった。
この実験結果から、エージェントに人間関係、特に上司などを模したキャラクターをユーザに提示することである程度、
依頼に対してポジティブにとらえてもらうことが可能だと考えられる。

上記の実験結果は、Babascript Agentにも応用可能である。
Babascript Agentにキャラクター性を持たせ、そのキャラクターとコミュニケーションを取っているかのように見せる
インタフェースを開発すれば、指示が受理されやすくなる可能性が存在する。
また、キャラクター性の付与によって、プログラムからの指示であるという印象が薄れ、
指示に対する拒否感も薄れるといったことが考えられる。

## 今後の展望

今後は、本章で述べた問題点についての改善を主に行う。
割り込み処理や処理の先送りに関してはBabascript Agent側の改良が必要である。
エラー処理に関する問題も、非常に興味深く、利便性を上げるために解決が必須である。
また、Babascript Agentへのキャラクター性付与による人間の心理面の変化など、実験によってその効果を検証したい。
