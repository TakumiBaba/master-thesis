<!-- \chapter{Babascriptプログラミング環境の設計}
\label{chap:design} -->

# Babascriptプログラミング環境の設計 {#chap:design}


本章では、前章におけるヒューマンコンピュテーションやクラウドソーシングの研究動向を踏まえ、
人とプログラムとの新しいインタラクションを実現するためのプログラミング環境の要件を定義し、考察を行う。

<!-- 思想について語る -->

<!--

  簡単に開発できるような環境を整える
-->

<!-- プログラマがインタラクションを記述しやすい -->
<!-- プログラマが新デバイス等に対応させやすい -->

## 設計要件

何が必要なのか

<!-- この節いる？ -->

## プログラムと人のインタラクション設計

### プログラムと人間のメッセージ交換モデル

従来のプログラムでは、プログラムとして書かれた処理を実行する対象はコンピュータのみであった。
プログラムは実行されると、その内容におうじてコンピュータに対して「Aという処理をしてくれ」というメッセージを送り、
メッセージを受け取ったコンピュータはその処理結果を返す、といったモデルであると言える。

人間も実行対象とする環境においては、同じモデルを利用することが可能である。
つまり、プログラムの人間が処理するべき部分については、人間に対して「Aという処理をしてくれ」というメッセージを送り、
人間がそのメッセージを受け取り、人間が処理を行い、結果を返すといったモデルを構築することが出来れば良い。

しかし、プログラムから直接、人間にメッセージを送ることは現状では難しい。
そこで、本研究においては、メッセージを受信可能なデバイスを仲介することによって、デバイス経由で人間にメッセージを送る手法を用いる。
つまり、デバイスを経由して指示内容を伝え、デバイスを経由して処理結果を入力させる、というプログラムと人間のメッセージ交換モデルを採用する。
このモデルによって、コンピュータと人はプログラム上において、同じ処理実行対象とすることが可能である。

### 具体的な人間リソースの指定

従来の人間とコンピュータを協調させるプログラムにおいては、人間を指定するといったことがなかった。
本研究において問題としている、

- 例えば自分を指定できなくてはいけない
- 自分の部屋を片付ける、みたいなことは自分もしくは家族ぐらいしかできない
- クラウドソーシングのような仕組みではできない。

### 類似の指示記法で実現したい

- 人間と計算機を融合させたい
- 両者をプログラミングしていく上で、区別なく記述できるべき

人と計算機の両要素を融合させたプログラムを書くためには、
人と計算機、双方への指示を同じようなモデルで実行できるようにする必要がある。

### 人の特性を組み込む
<!-- 遅延や後回し、エラーを許容する? -->

コンピュータに指示を送ることと人間に指示を送ることには大きな差がある。
例えば、実行の確実性だ。
コンピュータであれば、何かしらの指示を送れば実行されるだろう。
しかし、人間に何かしらの指示を送ったとしても、それがすぐに実行されるとは限らない。
コンピュータの場合、エラーが起こればそのエラーをプログラムにも通知してくれる。
しかし、人間の場合、エラーが起これば放置されてしまう可能性がある。
こういったこともプログラムとして記述できるようにするし、人間側からも通知できるようにする。

もうちょっと頑張って書く。
ダメなら項目消す。

## プラガブルなモジュール構成

あらゆるデバイスで使えるようにする必要がある。
デバイスは多様化している。
利用可能なリソースが異なる。
<!-- 人間の日常をプログラミングする都合上、あらゆる場所に組み込まれるかもしれないから？ -->
<!-- 可能な限り簡単に、仕様が異なる部分だけプログラムを書くというスタイルにしたい -->
そのためには、少しプログラムを書くだけで色々なデバイスで転用可能にしなくてはならない。
そこで、各デバイスごとに仕様が異なることの多い部分について、プラガブルなモジュール構成にすることで
この問題を解決できると考えた。

### 通信

通信手法は各デバイスごとに大きくことなる。
出来れば、プログラムが実行され、人間に対するメッセージングが行なわれたらすぐに人にメッセージが届くべきである。
そのため、リアルタイム通信を前提にする必要がある。
例えば、パソコンのwebブラウザ上やサーバ上での実行であれば、通信手法が限られることはあまりない。
自由に通信の手法を選択することが可能である。
しかし、例えばスマートフォンの場合は、OSの仕様上、リアルタイム通信が切断されてしまうようなこともある。

その場の環境的に、通信がしにくいといった場合には、リアルタイム通信を前提とした通信手法は使いづらい。
遅延を前提とするような通信手法を選択できるべきである。

こういったことは、日常活動を送っていればよくあることである。
通信モジュールをプラガブルにし、様々な場面に対応したモジュールを簡単に作れるようにしておく必要がある。

### ユーザインタフェース

メッセージの提示や実行結果を入力する画面が必要となるが、このユーザインタフェースはデバイスごとに大きく異なると考えられる。
その要因として、スクリーンサイズの大きさがある。
例えば、比較的画面サイズに余裕のあるノートパソコンやデスクトップパソコンであれば、問題なく提示することができる。
しかし、スマートフォンやスクリーンの付いた腕時計型のデバイスなどであれば、同じユーザインタフェースのまま表示することは難しいだろう。

また、利用可能なアプリケーションによっても異なる。
Webアプリケーションとして実装する場合、Webブラウザが使えればいい。
チャット上に実装したい場合は、ユーザインタフェースが大きく異なる。

## 拡張性

人が身に付けるデバイスは増えていて、人間の情報をより確かに取得できるようになっている。
そういった拡張したデバイスとのインタラクションを記述するプログラムが書けるべき。
それは、人間オブジェクトのプラグインみたいな形で表現可能であると考えられる。  

人間が時計をつけたりJawboneUpみたいなのをつけるのと同じように、プログラム上の人間もその機能を拡張できるべきだ。


## 新しいプログラミング環境

前節までの設計検討から、人間と計算機への指示を融合させた新しいプログラミング環境の要件について以下の様にまとめる。

まず、人間とプログラムのインタラクションの項目をまとめると、
プログラム上において人間とのインタラクションが可能なプログラムモジュールが必要となる。
また、そのプログラムモジュールとコミュニケーションする人間側のインタフェースが必要となる。
つまり、プログラムと人間の仲介を行うソフトウェアエージェントが必要となる。
プログラムモジュールは今までのプログラミングスタイルのまま使える必要がある。

- プログラム上で人間へのメッセージングを担うモジュール
- プログラムと人間の仲介を行うソフトウェアエージェント

次に、プラガブルなモジュールの項目から、ソフトウェアエージェントを動かすデバイスごとに異なる可能性の高い
モジュールに関しては、交換可能な要素である必要がある。
その要素としては以下のようなものが挙げられる。

- 通信手法
- ユーザインタフェース

最後に、拡張性の項目から、本提案で実装する各要素は拡張可能なものとして実装する。

これらの要件を元に、次章において、人間と計算機への指示を融合させた新しいプログラミング環境の実装について具体的に述べる。

## まとめ

本章では、新しいプログラミング環境に必要な要素についての検討を行った。
